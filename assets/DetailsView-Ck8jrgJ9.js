import{r as y,u as ge,s as nt,g as ot,j as b,d as P,a0 as Vt,S as zt,a1 as Xt,i as Nt,a as Bt,R as Ht,a2 as Gt,N as $t}from"./index-Cb06MyQh.js";import{B as Zt}from"./BackBtn-BoE3gqA2.js";import{g as z,h as X,C as F,E as O,t as v,j as Ce,k,l as re,m as C,n as Kt,u as Ut,o as V,R as rt,q as Ft,r as Jt,s as qt,v as Qt,w as J,x as it,y as Me,Q as $,H as te,T as Ie,z as st,B as en,F as je,G as fe,I as Re,J as tn,L as nn,c as at,d as lt,P as on,e as rn,b as dt,p as ct,a as ut,K as sn,M as an}from"./index-idcKBhQZ.js";/*!
* chartjs-plugin-annotation v3.1.0
* https://www.chartjs.org/chartjs-plugin-annotation/index
 * (c) 2024 chartjs-plugin-annotation Contributors
 * Released under the MIT License
 */const Oe={modes:{point(t,e){return ne(t,e,{intersect:!0})},nearest(t,e,n){return cn(t,e,n)},x(t,e,n){return ne(t,e,{intersect:n.intersect,axis:"x"})},y(t,e,n){return ne(t,e,{intersect:n.intersect,axis:"y"})}}};function Ae(t,e,n){return(Oe.modes[n.mode]||Oe.modes.nearest)(t,e,n)}function ln(t,e,n){return n!=="x"&&n!=="y"?t.inRange(e.x,e.y,"x",!0)||t.inRange(e.x,e.y,"y",!0):t.inRange(e.x,e.y,n,!0)}function dn(t,e,n){return n==="x"?{x:t.x,y:e.y}:n==="y"?{x:e.x,y:t.y}:e}function ne(t,e,n){return t.filter(o=>n.intersect?o.inRange(e.x,e.y):ln(o,e,n.axis))}function cn(t,e,n){let o=Number.POSITIVE_INFINITY;return ne(t,e,n).reduce((r,i)=>{const s=i.getCenterPoint(),a=dn(e,s,n.axis),l=Ce(e,a);return l<o?(r=[i],o=l):l===o&&r.push(i),r},[]).sort((r,i)=>r._index-i._index).slice(0,1)}function L(t,e,n){const o=Math.cos(n),r=Math.sin(n),i=e.x,s=e.y;return{x:i+o*(t.x-i)-r*(t.y-s),y:s+r*(t.x-i)+o*(t.y-s)}}const un=(t,e)=>e>t||t.length>e.length&&t.slice(0,e.length)===e,j=.001,ie=(t,e,n)=>Math.min(n,Math.max(e,t)),ft=(t,e)=>t.value>=t.start-e&&t.value<=t.end+e;function fn(t,e,n){for(const o of Object.keys(t))t[o]=ie(t[o],e,n);return t}function hn(t,e,n,o){return!t||!e||n<=0?!1:Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(n+o,2)}function ht(t,{x:e,y:n,x2:o,y2:r},i,{borderWidth:s,hitTolerance:a}){const l=(s+a)/2,d=t.x>=e-l-j&&t.x<=o+l+j,c=t.y>=n-l-j&&t.y<=r+l+j;return i==="x"?d:(i==="y"||d)&&c}function gt(t,{rect:e,center:n},o,{rotation:r,borderWidth:i,hitTolerance:s}){const a=L(t,n,v(-r));return ht(a,e,o,{borderWidth:i,hitTolerance:s})}function W(t,e){const{centerX:n,centerY:o}=t.getProps(["centerX","centerY"],e);return{x:n,y:o}}function gn(t,e,n,o=!0){const r=n.split(".");let i=0;for(const s of e.split(".")){const a=r[i++];if(parseInt(s,10)<parseInt(a,10))break;if(un(a,s)){if(o)throw new Error(`${t} v${n} is not supported. v${e} or newer is required.`);return!1}}return!0}const bt=t=>typeof t=="string"&&t.endsWith("%"),yt=t=>parseFloat(t)/100,mt=t=>ie(yt(t),0,1),Z=(t,e)=>({x:t,y:e,x2:t,y2:e,width:0,height:0}),bn={box:t=>Z(t.centerX,t.centerY),doughnutLabel:t=>Z(t.centerX,t.centerY),ellipse:t=>({centerX:t.centerX,centerY:t.centerX,radius:0,width:0,height:0}),label:t=>Z(t.centerX,t.centerY),line:t=>Z(t.x,t.y),point:t=>({centerX:t.centerX,centerY:t.centerY,radius:0,width:0,height:0}),polygon:t=>Z(t.centerX,t.centerY)};function ke(t,e){return e==="start"?0:e==="end"?t:bt(e)?mt(e)*t:t/2}function _(t,e,n=!0){return typeof e=="number"?e:bt(e)?(n?mt(e):yt(e))*t:t}function yn(t,e){const{x:n,width:o}=t,r=e.textAlign;return r==="center"?n+o/2:r==="end"||r==="right"?n+o:n}function pt(t,e,{borderWidth:n,position:o,xAdjust:r,yAdjust:i},s){const a=z(s),l=e.width+(a?s.width:0)+n,d=e.height+(a?s.height:0)+n,c=De(o),u=Le(t.x,l,r,c.x),f=Le(t.y,d,i,c.y);return{x:u,y:f,x2:u+l,y2:f+d,width:l,height:d,centerX:u+l/2,centerY:f+d/2}}function De(t,e="center"){return z(t)?{x:J(t.x,e),y:J(t.y,e)}:(t=J(t,e),{x:t,y:t})}const wt=(t,e)=>t&&t.autoFit&&e<1;function xt(t,e){const n=t.font,o=X(n)?n:[n];return wt(t,e)?o.map(function(r){const i=fe(r);return i.size=Math.floor(r.size*e),i.lineHeight=r.lineHeight,fe(i)}):o.map(r=>fe(r))}function St(t){return t&&(k(t.xValue)||k(t.yValue))}function Le(t,e,n=0,o){return t-ke(e,o)+n}function B(t,e,n){const o=n.init;if(o){if(o===!0)return Mt(e,n)}else return;return mn(t,e,n)}function Ct(t,e,n){let o=!1;return e.forEach(r=>{V(t[r])?(o=!0,n[r]=t[r]):k(n[r])&&delete n[r]}),o}function Mt(t,e){const n=e.type||"line";return bn[n](t)}function mn(t,e,n){const o=Me(n.init,[{chart:t,properties:e,options:n}]);if(o===!0)return Mt(e,n);if(z(o))return o}const he=new Map,pn=t=>isNaN(t)||t<=0,wn=t=>t.reduce(function(e,n){return e+=n.string,e},"");function se(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object HTMLImageElement]"||e==="[object HTMLCanvasElement]"}}function ae(t,{x:e,y:n},o){o&&(t.translate(e,n),t.rotate(v(o)),t.translate(-e,-n))}function D(t,e){if(e&&e.borderWidth)return t.lineCap=e.borderCapStyle||"butt",t.setLineDash(e.borderDash),t.lineDashOffset=e.borderDashOffset,t.lineJoin=e.borderJoinStyle||"miter",t.lineWidth=e.borderWidth,t.strokeStyle=e.borderColor,!0}function H(t,e){t.shadowColor=e.backgroundShadowColor,t.shadowBlur=e.shadowBlur,t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY}function le(t,e){const n=e.content;if(se(n))return{width:_(n.width,e.width),height:_(n.height,e.height)};const o=xt(e),r=e.textStrokeWidth,i=X(n)?n:[n],s=i.join()+wn(o)+r+(t._measureText?"-spriting":"");return he.has(s)||he.set(s,Mn(t,i,o,r)),he.get(s)}function At(t,e,n){const{x:o,y:r,width:i,height:s}=e;t.save(),H(t,n);const a=D(t,n);t.fillStyle=n.backgroundColor,t.beginPath(),Ft(t,{x:o,y:r,w:i,h:s,radius:fn(Jt(n.borderRadius),0,Math.min(i,s)/2)}),t.closePath(),t.fill(),a&&(t.shadowColor=n.borderShadowColor,t.stroke()),t.restore()}function kt(t,e,n,o){const r=n.content;if(se(r)){t.save(),t.globalAlpha=Dn(n.opacity,r.style.opacity),t.drawImage(r,e.x,e.y,e.width,e.height),t.restore();return}const i=X(r)?r:[r],s=xt(n,o),a=n.color,l=X(a)?a:[a],d=yn(e,n),c=e.y+n.textStrokeWidth/2;t.save(),t.textBaseline="middle",t.textAlign=n.textAlign,xn(t,n)&&An(t,{x:d,y:c},i,s),kn(t,{x:d,y:c},i,{fonts:s,colors:l}),t.restore()}function xn(t,e){if(e.textStrokeWidth>0)return t.lineJoin="round",t.miterLimit=2,t.lineWidth=e.textStrokeWidth,t.strokeStyle=e.textStrokeColor,!0}function Sn(t,e,n,o){const{radius:r,options:i}=e,s=i.pointStyle,a=i.rotation;let l=(a||0)*rt;if(se(s)){t.save(),t.translate(n,o),t.rotate(l),t.drawImage(s,-s.width/2,-s.height/2,s.width,s.height),t.restore();return}pn(r)||Cn(t,{x:n,y:o,radius:r,rotation:a,style:s,rad:l})}function Cn(t,{x:e,y:n,radius:o,rotation:r,style:i,rad:s}){let a,l,d,c;switch(t.beginPath(),i){default:t.arc(e,n,o,0,st),t.closePath();break;case"triangle":t.moveTo(e+Math.sin(s)*o,n-Math.cos(s)*o),s+=Ie,t.lineTo(e+Math.sin(s)*o,n-Math.cos(s)*o),s+=Ie,t.lineTo(e+Math.sin(s)*o,n-Math.cos(s)*o),t.closePath();break;case"rectRounded":c=o*.516,d=o-c,a=Math.cos(s+$)*d,l=Math.sin(s+$)*d,t.arc(e-a,n-l,c,s-C,s-te),t.arc(e+l,n-a,c,s-te,s),t.arc(e+a,n+l,c,s,s+te),t.arc(e-l,n+a,c,s+te,s+C),t.closePath();break;case"rect":if(!r){d=Math.SQRT1_2*o,t.rect(e-d,n-d,2*d,2*d);break}s+=$;case"rectRot":a=Math.cos(s)*o,l=Math.sin(s)*o,t.moveTo(e-a,n-l),t.lineTo(e+l,n-a),t.lineTo(e+a,n+l),t.lineTo(e-l,n+a),t.closePath();break;case"crossRot":s+=$;case"cross":a=Math.cos(s)*o,l=Math.sin(s)*o,t.moveTo(e-a,n-l),t.lineTo(e+a,n+l),t.moveTo(e+l,n-a),t.lineTo(e-l,n+a);break;case"star":a=Math.cos(s)*o,l=Math.sin(s)*o,t.moveTo(e-a,n-l),t.lineTo(e+a,n+l),t.moveTo(e+l,n-a),t.lineTo(e-l,n+a),s+=$,a=Math.cos(s)*o,l=Math.sin(s)*o,t.moveTo(e-a,n-l),t.lineTo(e+a,n+l),t.moveTo(e+l,n-a),t.lineTo(e-l,n+a);break;case"line":a=Math.cos(s)*o,l=Math.sin(s)*o,t.moveTo(e-a,n-l),t.lineTo(e+a,n+l);break;case"dash":t.moveTo(e,n),t.lineTo(e+Math.cos(s)*o,n+Math.sin(s)*o);break}t.fill()}function Mn(t,e,n,o){t.save();const r=e.length;let i=0,s=o;for(let a=0;a<r;a++){const l=n[Math.min(a,n.length-1)];t.font=l.string;const d=e[a];i=Math.max(i,t.measureText(d).width+o),s+=l.lineHeight}return t.restore(),{width:i,height:s}}function An(t,{x:e,y:n},o,r){t.beginPath();let i=0;o.forEach(function(s,a){const l=r[Math.min(a,r.length-1)],d=l.lineHeight;t.font=l.string,t.strokeText(s,e,n+d/2+i),i+=d}),t.stroke()}function kn(t,{x:e,y:n},o,{fonts:r,colors:i}){let s=0;o.forEach(function(a,l){const d=i[Math.min(l,i.length-1)],c=r[Math.min(l,r.length-1)],u=c.lineHeight;t.beginPath(),t.font=c.string,t.fillStyle=d,t.fillText(a,e,n+u/2+s),s+=u,t.fill()})}function Dn(t,e){const n=je(t)?t:e;return je(n)?ie(n,0,1):1}const Dt=["left","bottom","top","right"];function Pn(t,e){const{pointX:n,pointY:o,options:r}=e,i=r.callout,s=i&&i.display&&In(e,i);if(!s||Rn(e,i,s))return;if(t.save(),t.beginPath(),!D(t,i))return t.restore();const{separatorStart:l,separatorEnd:d}=vn(e,s),{sideStart:c,sideEnd:u}=Tn(e,s,l);(i.margin>0||r.borderWidth===0)&&(t.moveTo(l.x,l.y),t.lineTo(d.x,d.y)),t.moveTo(c.x,c.y),t.lineTo(u.x,u.y);const f=L({x:n,y:o},e.getCenterPoint(),v(-e.rotation));t.lineTo(f.x,f.y),t.stroke(),t.restore()}function vn(t,e){const{x:n,y:o,x2:r,y2:i}=t,s=En(t,e);let a,l;return e==="left"||e==="right"?(a={x:n+s,y:o},l={x:a.x,y:i}):(a={x:n,y:o+s},l={x:r,y:a.y}),{separatorStart:a,separatorEnd:l}}function En(t,e){const{width:n,height:o,options:r}=t,i=r.callout.margin+r.borderWidth/2;return e==="right"?n+i:e==="bottom"?o+i:-i}function Tn(t,e,n){const{y:o,width:r,height:i,options:s}=t,a=s.callout.start,l=_n(e,s.callout);let d,c;return e==="left"||e==="right"?(d={x:n.x,y:o+_(i,a)},c={x:d.x+l,y:d.y}):(d={x:n.x+_(r,a),y:n.y},c={x:d.x,y:d.y+l}),{sideStart:d,sideEnd:c}}function _n(t,e){const n=e.side;return t==="left"||t==="top"?-n:n}function In(t,e){const n=e.position;return Dt.includes(n)?n:jn(t,e)}function jn(t,e){const{x:n,y:o,x2:r,y2:i,width:s,height:a,pointX:l,pointY:d,centerX:c,centerY:u,rotation:f}=t,g={x:c,y:u},h=e.start,w=_(s,h),x=_(a,h),m=[n,n+w,n+w,r],p=[o+x,i,o,i],S=[];for(let M=0;M<4;M++){const Y=L({x:m[M],y:p[M]},g,v(f));S.push({position:Dt[M],distance:Ce(Y,{x:l,y:d})})}return S.sort((M,Y)=>M.distance-Y.distance)[0].position}function Rn(t,e,n){const{pointX:o,pointY:r}=t,i=e.margin;let s=o,a=r;return n==="left"?s+=i:n==="right"?s-=i:n==="top"?a+=i:n==="bottom"&&(a-=i),t.inRange(s,a)}const We={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function N(t,e,n){return e=typeof e=="number"?e:t.parse(e),it(e)?t.getPixelForValue(e):n}function R(t,e,n){const o=e[n];if(o||n==="scaleID")return o;const r=n.charAt(0),i=Object.values(t).filter(s=>s.axis&&s.axis===r);return i.length?i[0].id:r}function Pt(t,e){if(t){const n=t.options.reverse,o=N(t,e.min,n?e.end:e.start),r=N(t,e.max,n?e.start:e.end);return{start:o,end:r}}}function vt(t,e){const{chartArea:n,scales:o}=t,r=o[R(o,e,"xScaleID")],i=o[R(o,e,"yScaleID")];let s=n.width/2,a=n.height/2;return r&&(s=N(r,e.xValue,r.left+r.width/2)),i&&(a=N(i,e.yValue,i.top+i.height/2)),{x:s,y:a}}function Pe(t,e){const n=t.scales,o=n[R(n,e,"xScaleID")],r=n[R(n,e,"yScaleID")];if(!o&&!r)return{};let{left:i,right:s}=o||t.chartArea,{top:a,bottom:l}=r||t.chartArea;const d=Ye(o,{min:e.xMin,max:e.xMax,start:i,end:s});i=d.start,s=d.end;const c=Ye(r,{min:e.yMin,max:e.yMax,start:l,end:a});return a=c.start,l=c.end,{x:i,y:a,x2:s,y2:l,width:s-i,height:l-a,centerX:i+(s-i)/2,centerY:a+(l-a)/2}}function Et(t,e){if(!St(e)){const n=Pe(t,e);let o=e.radius;(!o||isNaN(o))&&(o=Math.min(n.width,n.height)/2,e.radius=o);const r=o*2,i=n.centerX+e.xAdjust,s=n.centerY+e.yAdjust;return{x:i-o,y:s-o,x2:i+o,y2:s+o,centerX:i,centerY:s,width:r,height:r,radius:o}}return Ln(t,e)}function On(t,e){const{scales:n,chartArea:o}=t,r=n[e.scaleID],i={x:o.left,y:o.top,x2:o.right,y2:o.bottom};return r?Wn(r,i,e):Yn(n,i,e),i}function Tt(t,e){const n=Pe(t,e);return n.initProperties=B(t,n,e),n.elements=[{type:"label",optionScope:"label",properties:Xn(t,n,e),initProperties:n.initProperties}],n}function Ln(t,e){const n=vt(t,e),o=e.radius*2;return{x:n.x-e.radius+e.xAdjust,y:n.y-e.radius+e.yAdjust,x2:n.x+e.radius+e.xAdjust,y2:n.y+e.radius+e.yAdjust,centerX:n.x+e.xAdjust,centerY:n.y+e.yAdjust,radius:e.radius,width:o,height:o}}function Ye(t,e){const n=Pt(t,e)||e;return{start:Math.min(n.start,n.end),end:Math.max(n.start,n.end)}}function Wn(t,e,n){const o=N(t,n.value,NaN),r=N(t,n.endValue,o);t.isHorizontal()?(e.x=o,e.x2=r):(e.y=o,e.y2=r)}function Yn(t,e,n){for(const o of Object.keys(We)){const r=t[R(t,n,o)];if(r){const{min:i,max:s,start:a,end:l,startProp:d,endProp:c}=We[o],u=Pt(r,{min:n[i],max:n[s],start:r[a],end:r[l]});e[d]=u.start,e[c]=u.end}}}function Vn({properties:t,options:e},n,o,r){const{x:i,x2:s,width:a}=t;return _t({start:i,end:s,borderWidth:e.borderWidth},{position:o.x,padding:{start:r.left,end:r.right},adjust:e.label.xAdjust,size:n.width})}function zn({properties:t,options:e},n,o,r){const{y:i,y2:s,height:a}=t;return _t({start:i,end:s,borderWidth:e.borderWidth},{position:o.y,padding:{start:r.top,end:r.bottom},adjust:e.label.yAdjust,size:n.height})}function _t(t,e){const{start:n,end:o,borderWidth:r}=t,{position:i,padding:{start:s,end:a},adjust:l}=e,d=o-r-n-s-a-e.size;return n+r/2+l+ke(d,i)}function Xn(t,e,n){const o=n.label;o.backgroundColor="transparent",o.callout.display=!1;const r=De(o.position),i=re(o.padding),s=le(t.ctx,o),a=Vn({properties:e,options:n},s,r,i),l=zn({properties:e,options:n},s,r,i),d=s.width+i.width,c=s.height+i.height;return{x:a,y:l,x2:a+d,y2:l+c,width:d,height:c,centerX:a+d/2,centerY:l+c/2,rotation:o.rotation}}const be=["enter","leave"],ve=be.concat("click");function Nn(t,e,n){e.listened=Ct(n,ve,e.listeners),e.moveListened=!1,be.forEach(o=>{V(n[o])&&(e.moveListened=!0)}),(!e.listened||!e.moveListened)&&e.annotations.forEach(o=>{!e.listened&&V(o.click)&&(e.listened=!0),e.moveListened||be.forEach(r=>{V(o[r])&&(e.listened=!0,e.moveListened=!0)})})}function Bn(t,e,n){if(t.listened)switch(e.type){case"mousemove":case"mouseout":return Hn(t,e,n);case"click":return Gn(t,e,n)}}function Hn(t,e,n){if(!t.moveListened)return;let o;e.type==="mousemove"?o=Ae(t.visibleElements,e,n.interaction):o=[];const r=t.hovered;t.hovered=o;const i={state:t,event:e};let s=Ve(i,"leave",r,o);return Ve(i,"enter",o,r)||s}function Ve({state:t,event:e},n,o,r){let i;for(const s of o)r.indexOf(s)<0&&(i=It(s.options[n]||t.listeners[n],s,e)||i);return i}function Gn(t,e,n){const o=t.listeners,r=Ae(t.visibleElements,e,n.interaction);let i;for(const s of r)i=It(s.options.click||o.click,s,e)||i;return i}function It(t,e,n){return Me(t,[e.$context,n])===!0}const oe=["afterDraw","beforeDraw"];function $n(t,e,n){const o=e.visibleElements;e.hooked=Ct(n,oe,e.hooks),e.hooked||o.forEach(r=>{e.hooked||oe.forEach(i=>{V(r.options[i])&&(e.hooked=!0)})})}function ze(t,e,n){if(t.hooked){const o=e.options[n]||t.hooks[n];return Me(o,[e.$context])}}function Zn(t,e,n){const o=qn(t.scales,e,n);let r=Xe(e,o,"min","suggestedMin");r=Xe(e,o,"max","suggestedMax")||r,r&&V(e.handleTickRangeOptions)&&e.handleTickRangeOptions()}function Kn(t,e){for(const n of t)Fn(n,e)}function Xe(t,e,n,o){if(it(e[n])&&!Un(t.options,n,o)){const r=t[n]!==e[n];return t[n]=e[n],r}}function Un(t,e,n){return k(t[e])||k(t[n])}function Fn(t,e){for(const n of["scaleID","xScaleID","yScaleID"]){const o=R(e,t,n);o&&!e[o]&&Jn(t,n)&&console.warn(`No scale found with id '${o}' for annotation '${t.id}'`)}}function Jn(t,e){if(e==="scaleID")return!0;const n=e.charAt(0);for(const o of["Min","Max","Value"])if(k(t[n+o]))return!0;return!1}function qn(t,e,n){const o=e.axis,r=e.id,i=o+"ScaleID",s={min:J(e.min,Number.NEGATIVE_INFINITY),max:J(e.max,Number.POSITIVE_INFINITY)};for(const a of n)a.scaleID===r?Ne(a,e,["value","endValue"],s):R(t,a,i)===r&&Ne(a,e,[o+"Min",o+"Max",o+"Value"],s);return s}function Ne(t,e,n,o){for(const r of n){const i=t[r];if(k(i)){const s=e.parse(i);o.min=Math.min(o.min,s),o.max=Math.max(o.max,s)}}}class G extends O{inRange(e,n,o,r){const{x:i,y:s}=L({x:e,y:n},this.getCenterPoint(r),v(-this.options.rotation));return ht({x:i,y:s},this.getProps(["x","y","x2","y2"],r),o,this.options)}getCenterPoint(e){return W(this,e)}draw(e){e.save(),ae(e,this.getCenterPoint(),this.options.rotation),At(e,this,this.options),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,n){return Tt(e,n)}}G.id="boxAnnotation";G.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};G.defaultRoutes={borderColor:"color",backgroundColor:"color"};G.descriptors={label:{_fallback:!0}};class de extends O{inRange(e,n,o,r){return gt({x:e,y:n},{rect:this.getProps(["x","y","x2","y2"],r),center:this.getCenterPoint(r)},o,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return W(this,e)}draw(e){const n=this.options;!n.display||!n.content||(ro(e,this),e.save(),ae(e,this.getCenterPoint(),this.rotation),kt(e,this,n,this._fitRatio),e.restore())}resolveElementProperties(e,n){const o=Qn(e,n);if(!o)return{};const{controllerMeta:r,point:i,radius:s}=to(e,n,o);let a=le(e.ctx,n);const l=no(a,s);wt(n,l)&&(a={width:a.width*l,height:a.height*l});const{position:d,xAdjust:c,yAdjust:u}=n,f=pt(i,a,{borderWidth:0,position:d,xAdjust:c,yAdjust:u});return{initProperties:B(e,f,n),...f,...r,rotation:n.rotation,_fitRatio:l}}}de.id="doughnutLabelAnnotation";de.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0};de.defaultRoutes={};function Qn(t,e){return t.getSortedVisibleDatasetMetas().reduce(function(n,o){const r=o.controller;return r instanceof qt&&eo(t,e,o.data)&&(!n||r.innerRadius<n.controller.innerRadius)&&r.options.circumference>=90?o:n},void 0)}function eo(t,e,n){if(!e.autoHide)return!0;for(let o=0;o<n.length;o++)if(!n[o].hidden&&t.getDataVisibility(o))return!0}function to({chartArea:t},e,n){const{left:o,top:r,right:i,bottom:s}=t,{innerRadius:a,offsetX:l,offsetY:d}=n.controller,c=(o+i)/2+l,u=(r+s)/2+d,f={left:Math.max(c-a,o),right:Math.min(c+a,i),top:Math.max(u-a,r),bottom:Math.min(u+a,s)},g={x:(f.left+f.right)/2,y:(f.top+f.bottom)/2},h=e.spacing+e.borderWidth/2,w=a-h,x=g.y>u,m=x?r+h:s-h,p=oo(m,c,u,w);return{controllerMeta:{_centerX:c,_centerY:u,_radius:w,_counterclockwise:x,...p},point:g,radius:Math.min(a,Math.min(f.right-f.left,f.bottom-f.top)/2)}}function no({width:t,height:e},n){const o=Math.sqrt(Math.pow(t,2)+Math.pow(e,2));return n*2/o}function oo(t,e,n,o){const r=Math.pow(n-t,2),i=Math.pow(o,2),s=e*-2,a=Math.pow(e,2)+r-i,l=Math.pow(s,2)-4*a;if(l<=0)return{_startAngle:0,_endAngle:st};const d=(-s-Math.sqrt(l))/2,c=(-s+Math.sqrt(l))/2;return{_startAngle:Re({x:e,y:n},{x:d,y:t}).angle,_endAngle:Re({x:e,y:n},{x:c,y:t}).angle}}function ro(t,e){const{_centerX:n,_centerY:o,_radius:r,_startAngle:i,_endAngle:s,_counterclockwise:a,options:l}=e;t.save();const d=D(t,l);t.fillStyle=l.backgroundColor,t.beginPath(),t.arc(n,o,r,i,s,a),t.closePath(),t.fill(),d&&t.stroke(),t.restore()}class q extends O{inRange(e,n,o,r){return gt({x:e,y:n},{rect:this.getProps(["x","y","x2","y2"],r),center:this.getCenterPoint(r)},o,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return W(this,e)}draw(e){const n=this.options,o=!k(this._visible)||this._visible;!n.display||!n.content||!o||(e.save(),ae(e,this.getCenterPoint(),this.rotation),Pn(e,this),At(e,this,n),kt(e,io(this),n),e.restore())}resolveElementProperties(e,n){let o;if(St(n))o=vt(e,n);else{const{centerX:a,centerY:l}=Pe(e,n);o={x:a,y:l}}const r=re(n.padding),i=le(e.ctx,n),s=pt(o,i,n,r);return{initProperties:B(e,s,n),pointX:o.x,pointY:o.y,...s,rotation:n.rotation}}}q.id="labelAnnotation";q.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};q.defaultRoutes={borderColor:"color"};function io({x:t,y:e,width:n,height:o,options:r}){const i=r.borderWidth/2,s=re(r.padding);return{x:t+s.left+i,y:e+s.top+i,width:n-s.left-s.right-r.borderWidth,height:o-s.top-s.bottom-r.borderWidth}}const Ee=(t,e,n)=>({x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}),ye=(t,e,n)=>Ee(e,n,Math.abs((t-e.y)/(n.y-e.y))).x,Be=(t,e,n)=>Ee(e,n,Math.abs((t-e.x)/(n.x-e.x))).y,U=t=>t*t,so=(t,e,{x:n,y:o,x2:r,y2:i},s)=>s==="y"?{start:Math.min(o,i),end:Math.max(o,i),value:e}:{start:Math.min(n,r),end:Math.max(n,r),value:t},He=(t,e,n,o)=>(1-o)*(1-o)*t+2*(1-o)*o*e+o*o*n,me=(t,e,n,o)=>({x:He(t.x,e.x,n.x,o),y:He(t.y,e.y,n.y,o)}),Ge=(t,e,n,o)=>2*(1-o)*(e-t)+2*o*(n-e),$e=(t,e,n,o)=>-Math.atan2(Ge(t.x,e.x,n.x,o),Ge(t.y,e.y,n.y,o))+.5*C;class Q extends O{inRange(e,n,o,r){const i=(this.options.borderWidth+this.options.hitTolerance)/2;if(o!=="x"&&o!=="y"){const s={mouseX:e,mouseY:n},{path:a,ctx:l}=this;if(a){D(l,this.options),l.lineWidth+=this.options.hitTolerance;const{chart:c}=this.$context,u=e*c.currentDevicePixelRatio,f=n*c.currentDevicePixelRatio,g=l.isPointInStroke(a,u,f)||pe(this,s,r);return l.restore(),g}const d=U(i);return uo(this,s,d,r)||pe(this,s,r)}return ao(this,{mouseX:e,mouseY:n},o,{hitSize:i,useFinalPosition:r})}getCenterPoint(e){return W(this,e)}draw(e){const{x:n,y:o,x2:r,y2:i,cp:s,options:a}=this;if(e.save(),!D(e,a))return e.restore();H(e,a);const l=Math.sqrt(Math.pow(r-n,2)+Math.pow(i-o,2));if(a.curve&&s)return wo(e,this,s,l),e.restore();const{startOpts:d,endOpts:c,startAdjust:u,endAdjust:f}=jt(this),g=Math.atan2(i-o,r-n);e.translate(n,o),e.rotate(g),e.beginPath(),e.moveTo(0+u,0),e.lineTo(l-f,0),e.shadowColor=a.borderShadowColor,e.stroke(),we(e,0,u,d),we(e,l,-f,c),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,n){const o=On(e,n),{x:r,y:i,x2:s,y2:a}=o,l=lo(o,e.chartArea),d=l?co({x:r,y:i},{x:s,y:a},e.chartArea):{x:r,y:i,x2:s,y2:a,width:Math.abs(s-r),height:Math.abs(a-i)};if(d.centerX=(s+r)/2,d.centerY=(a+i)/2,d.initProperties=B(e,d,n),n.curve){const u={x:d.x,y:d.y},f={x:d.x2,y:d.y2};d.cp=po(d,n,Ce(u,f))}const c=fo(e,d,n.label);return c._visible=l,d.elements=[{type:"label",optionScope:"label",properties:c,initProperties:d.initProperties}],d}}Q.id="lineAnnotation";const Ze={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};Q.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},Ze),fill:!1,length:12,start:Object.assign({},Ze),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},q.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};Q.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}};Q.defaultRoutes={borderColor:"color"};function ao(t,{mouseX:e,mouseY:n},o,{hitSize:r,useFinalPosition:i}){const s=so(e,n,t.getProps(["x","y","x2","y2"],i),o);return ft(s,r)||pe(t,{mouseX:e,mouseY:n},i,o)}function lo({x:t,y:e,x2:n,y2:o},{top:r,right:i,bottom:s,left:a}){return!(t<a&&n<a||t>i&&n>i||e<r&&o<r||e>s&&o>s)}function Ke({x:t,y:e},n,{top:o,right:r,bottom:i,left:s}){return t<s&&(e=Be(s,{x:t,y:e},n),t=s),t>r&&(e=Be(r,{x:t,y:e},n),t=r),e<o&&(t=ye(o,{x:t,y:e},n),e=o),e>i&&(t=ye(i,{x:t,y:e},n),e=i),{x:t,y:e}}function co(t,e,n){const{x:o,y:r}=Ke(t,e,n),{x:i,y:s}=Ke(e,t,n);return{x:o,y:r,x2:i,y2:s,width:Math.abs(i-o),height:Math.abs(s-r)}}function uo(t,{mouseX:e,mouseY:n},o=j,r){const{x:i,y:s,x2:a,y2:l}=t.getProps(["x","y","x2","y2"],r),d=a-i,c=l-s,u=U(d)+U(c),f=u===0?-1:((e-i)*d+(n-s)*c)/u;let g,h;return f<0?(g=i,h=s):f>1?(g=a,h=l):(g=i+f*d,h=s+f*c),U(e-g)+U(n-h)<=o}function pe(t,{mouseX:e,mouseY:n},o,r){const i=t.label;return i.options.display&&i.inRange(e,n,r,o)}function fo(t,e,n){const o=n.borderWidth,r=re(n.padding),i=le(t.ctx,n),s=i.width+r.width+o,a=i.height+r.height+o;return go(e,n,{width:s,height:a,padding:r},t.chartArea)}function ho(t){const{x:e,y:n,x2:o,y2:r}=t,i=Math.atan2(r-n,o-e);return i>C/2?i-C:i<C/-2?i+C:i}function go(t,e,n,o){const{width:r,height:i,padding:s}=n,{xAdjust:a,yAdjust:l}=e,d={x:t.x,y:t.y},c={x:t.x2,y:t.y2},u=e.rotation==="auto"?ho(t):v(e.rotation),f=bo(r,i,u),g=yo(t,e,{labelSize:f,padding:s},o),h=t.cp?me(d,t.cp,c,g):Ee(d,c,g),w={size:f.w,min:o.left,max:o.right,padding:s.left},x={size:f.h,min:o.top,max:o.bottom,padding:s.top},m=Fe(h.x,w)+a,p=Fe(h.y,x)+l;return{x:m-r/2,y:p-i/2,x2:m+r/2,y2:p+i/2,centerX:m,centerY:p,pointX:h.x,pointY:h.y,width:r,height:i,rotation:en(u)}}function bo(t,e,n){const o=Math.cos(n),r=Math.sin(n);return{w:Math.abs(t*o)+Math.abs(e*r),h:Math.abs(t*r)+Math.abs(e*o)}}function yo(t,e,n,o){let r;const i=mo(t,o);return e.position==="start"?r=Ue({w:t.x2-t.x,h:t.y2-t.y},n,e,i):e.position==="end"?r=1-Ue({w:t.x-t.x2,h:t.y-t.y2},n,e,i):r=ke(1,e.position),r}function Ue(t,e,n,o){const{labelSize:r,padding:i}=e,s=t.w*o.dx,a=t.h*o.dy,l=s>0&&(r.w/2+i.left-o.x)/s,d=a>0&&(r.h/2+i.top-o.y)/a;return ie(Math.max(l,d),0,.25)}function mo(t,e){const{x:n,x2:o,y:r,y2:i}=t,s=Math.min(r,i)-e.top,a=Math.min(n,o)-e.left,l=e.bottom-Math.max(r,i),d=e.right-Math.max(n,o);return{x:Math.min(a,d),y:Math.min(s,l),dx:a<=d?1:-1,dy:s<=l?1:-1}}function Fe(t,e){const{size:n,min:o,max:r,padding:i}=e,s=n/2;return n>r-o?(r+o)/2:(o>=t-i-s&&(t=o+i+s),r<=t+i+s&&(t=r-i-s),t)}function jt(t){const e=t.options,n=e.arrowHeads&&e.arrowHeads.start,o=e.arrowHeads&&e.arrowHeads.end;return{startOpts:n,endOpts:o,startAdjust:Je(t,n),endAdjust:Je(t,o)}}function Je(t,e){if(!e||!e.display)return 0;const{length:n,width:o}=e,r=t.options.borderWidth/2,i={x:n,y:o+r};return Math.abs(ye(0,i,{x:0,y:r}))}function we(t,e,n,o){if(!o||!o.display)return;const{length:r,width:i,fill:s,backgroundColor:a,borderColor:l}=o,d=Math.abs(e-r)+n;t.beginPath(),H(t,o),D(t,o),t.moveTo(d,-i),t.lineTo(e+n,0),t.lineTo(d,i),s===!0?(t.fillStyle=a||l,t.closePath(),t.fill(),t.shadowColor="transparent"):t.shadowColor=o.borderShadowColor,t.stroke()}function po(t,e,n){const{x:o,y:r,x2:i,y2:s,centerX:a,centerY:l}=t,d=Math.atan2(s-r,i-o),c=De(e.controlPoint,0),u={x:a+_(n,c.x,!1),y:l+_(n,c.y,!1)};return L(u,{x:a,y:l},d)}function qe(t,{x:e,y:n},{angle:o,adjust:r},i){!i||!i.display||(t.save(),t.translate(e,n),t.rotate(o),we(t,0,-r,i),t.restore())}function wo(t,e,n,o){const{x:r,y:i,x2:s,y2:a,options:l}=e,{startOpts:d,endOpts:c,startAdjust:u,endAdjust:f}=jt(e),g={x:r,y:i},h={x:s,y:a},w=$e(g,n,h,0),x=$e(g,n,h,1)-C,m=me(g,n,h,u/o),p=me(g,n,h,1-f/o),S=new Path2D;t.beginPath(),S.moveTo(m.x,m.y),S.quadraticCurveTo(n.x,n.y,p.x,p.y),t.shadowColor=l.borderShadowColor,t.stroke(S),e.path=S,e.ctx=t,qe(t,m,{angle:w,adjust:u},d),qe(t,p,{angle:x,adjust:f},c)}class ee extends O{inRange(e,n,o,r){const i=this.options.rotation,s=(this.options.borderWidth+this.options.hitTolerance)/2;if(o!=="x"&&o!=="y")return xo({x:e,y:n},this.getProps(["width","height","centerX","centerY"],r),i,s);const{x:a,y:l,x2:d,y2:c}=this.getProps(["x","y","x2","y2"],r),u=o==="y"?{start:l,end:c}:{start:a,end:d},f=L({x:e,y:n},this.getCenterPoint(r),v(-i));return f[o]>=u.start-s-j&&f[o]<=u.end+s+j}getCenterPoint(e){return W(this,e)}draw(e){const{width:n,height:o,centerX:r,centerY:i,options:s}=this;e.save(),ae(e,this.getCenterPoint(),s.rotation),H(e,this.options),e.beginPath(),e.fillStyle=s.backgroundColor;const a=D(e,s);e.ellipse(r,i,o/2,n/2,C/2,0,2*C),e.fill(),a&&(e.shadowColor=s.borderShadowColor,e.stroke()),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,n){return Tt(e,n)}}ee.id="ellipseAnnotation";ee.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},G.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};ee.defaultRoutes={borderColor:"color",backgroundColor:"color"};ee.descriptors={label:{_fallback:!0}};function xo(t,e,n,o){const{width:r,height:i,centerX:s,centerY:a}=e,l=r/2,d=i/2;if(l<=0||d<=0)return!1;const c=v(n||0),u=Math.cos(c),f=Math.sin(c),g=Math.pow(u*(t.x-s)+f*(t.y-a),2),h=Math.pow(f*(t.x-s)-u*(t.y-a),2);return g/Math.pow(l+o,2)+h/Math.pow(d+o,2)<=1.0001}class ce extends O{inRange(e,n,o,r){const{x:i,y:s,x2:a,y2:l,width:d}=this.getProps(["x","y","x2","y2","width"],r),c=(this.options.borderWidth+this.options.hitTolerance)/2;return o!=="x"&&o!=="y"?hn({x:e,y:n},this.getCenterPoint(r),d/2,c):ft(o==="y"?{start:s,end:l,value:n}:{start:i,end:a,value:e},c)}getCenterPoint(e){return W(this,e)}draw(e){const n=this.options,o=n.borderWidth;if(n.radius<.1)return;e.save(),e.fillStyle=n.backgroundColor,H(e,n);const r=D(e,n);Sn(e,this,this.centerX,this.centerY),r&&!se(n.pointStyle)&&(e.shadowColor=n.borderShadowColor,e.stroke()),e.restore(),n.borderWidth=o}resolveElementProperties(e,n){const o=Et(e,n);return o.initProperties=B(e,o,n),o}}ce.id="pointAnnotation";ce.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};ce.defaultRoutes={borderColor:"color",backgroundColor:"color"};class ue extends O{inRange(e,n,o,r){if(o!=="x"&&o!=="y")return this.options.radius>=.1&&this.elements.length>1&&Co(this.elements,e,n,r);const i=L({x:e,y:n},this.getCenterPoint(r),v(-this.options.rotation)),s=this.elements.map(d=>o==="y"?d.bY:d.bX),a=Math.min(...s),l=Math.max(...s);return i[o]>=a&&i[o]<=l}getCenterPoint(e){return W(this,e)}draw(e){const{elements:n,options:o}=this;e.save(),e.beginPath(),e.fillStyle=o.backgroundColor,H(e,o);const r=D(e,o);let i=!0;for(const s of n)i?(e.moveTo(s.x,s.y),i=!1):e.lineTo(s.x,s.y);e.closePath(),e.fill(),r&&(e.shadowColor=o.borderShadowColor,e.stroke()),e.restore()}resolveElementProperties(e,n){const o=Et(e,n),{sides:r,rotation:i}=n,s=[],a=2*C/r;let l=i*rt;for(let d=0;d<r;d++,l+=a){const c=So(o,n,l);c.initProperties=B(e,o,n),s.push(c)}return o.elements=s,o}}ue.id="polygonAnnotation";ue.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};ue.defaultRoutes={borderColor:"color",backgroundColor:"color"};function So({centerX:t,centerY:e},{radius:n,borderWidth:o,hitTolerance:r},i){const s=(o+r)/2,a=Math.sin(i),l=Math.cos(i),d={x:t+a*n,y:e-l*n};return{type:"point",optionScope:"point",properties:{x:d.x,y:d.y,centerX:d.x,centerY:d.y,bX:t+a*(n+s),bY:e-l*(n+s)}}}function Co(t,e,n,o){let r=!1,i=t[t.length-1].getProps(["bX","bY"],o);for(const s of t){const a=s.getProps(["bX","bY"],o);a.bY>n!=i.bY>n&&e<(i.bX-a.bX)*(n-a.bY)/(i.bY-a.bY)+a.bX&&(r=!r),i=a}return r}const T={box:G,doughnutLabel:de,ellipse:ee,label:q,line:Q,point:ce,polygon:ue};Object.keys(T).forEach(t=>{tn.describe(`elements.${T[t].id}`,{_fallback:"plugins.annotation.common"})});const Mo={update:Object.assign},Ao=ve.concat(oe),Qe=(t,e)=>z(e)?Se(t,e):t,xe=t=>t==="color"||t==="font";function Te(t="line"){return T[t]?t:(console.warn(`Unknown annotation type: '${t}', defaulting to 'line'`),"line")}function ko(t,e,n,o){const r=Po(t,n.animations,o),i=e.annotations,s=To(e.elements,i);for(let a=0;a<i.length;a++){const l=i[a],d=Rt(s,a,l.type),c=l.setContext(Eo(t,d,s,l)),u=d.resolveElementProperties(t,c);u.skip=Do(u),"elements"in u&&(vo(d,u.elements,c,r),delete u.elements),k(d.x)||Object.assign(d,u),Object.assign(d,u.initProperties),u.options=Ot(c),r.update(d,u)}}function Do(t){return isNaN(t.x)||isNaN(t.y)}function Po(t,e,n){return n==="reset"||n==="none"||n==="resize"?Mo:new Qt(t,e)}function vo(t,e,n,o){const r=t.elements||(t.elements=[]);r.length=e.length;for(let i=0;i<e.length;i++){const s=e[i],a=s.properties,l=Rt(r,i,s.type,s.initProperties),d=n[s.optionScope].override(s);a.options=Ot(d),o.update(l,a)}}function Rt(t,e,n,o){const r=T[Te(n)];let i=t[e];return(!i||!(i instanceof r))&&(i=t[e]=new r,Object.assign(i,o)),i}function Ot(t){const e=T[Te(t.type)],n={};n.id=t.id,n.type=t.type,n.drawTime=t.drawTime,Object.assign(n,Se(t,e.defaults),Se(t,e.defaultRoutes));for(const o of Ao)n[o]=t[o];return n}function Se(t,e){const n={};for(const o of Object.keys(e)){const r=e[o],i=t[o];xe(o)&&X(i)?n[o]=i.map(s=>Qe(s,r)):n[o]=Qe(i,r)}return n}function Eo(t,e,n,o){return e.$context||(e.$context=Object.assign(Object.create(t.getContext()),{element:e,get elements(){return n.filter(r=>r&&r.options)},id:o.id,type:"annotation"}))}function To(t,e){const n=e.length,o=t.length;if(o<n){const r=n-o;t.splice(o,0,...new Array(r))}else o>n&&t.splice(n,o-n);return t}var _o="3.1.0";const E=new Map,et=t=>t.type!=="doughnutLabel",Io=ve.concat(oe);var jo={id:"annotation",version:_o,beforeRegister(){gn("chart.js","4.0",F.version)},afterRegister(){F.register(T)},afterUnregister(){F.unregister(T)},beforeInit(t){E.set(t,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(t,e,n){const o=E.get(t),r=o.annotations=[];let i=n.annotations;z(i)?Object.keys(i).forEach(s=>{const a=i[s];z(a)&&(a.id=s,r.push(a))}):X(i)&&r.push(...i),Kn(r.filter(et),t.scales)},afterDataLimits(t,e){const n=E.get(t);Zn(t,e.scale,n.annotations.filter(et).filter(o=>o.display&&o.adjustScaleRange))},afterUpdate(t,e,n){const o=E.get(t);Nn(t,o,n),ko(t,o,n,e.mode),o.visibleElements=o.elements.filter(r=>!r.skip&&r.options.display),$n(t,o,n)},beforeDatasetsDraw(t,e,n){K(t,"beforeDatasetsDraw",n.clip)},afterDatasetsDraw(t,e,n){K(t,"afterDatasetsDraw",n.clip)},beforeDatasetDraw(t,e,n){K(t,e.index,n.clip)},beforeDraw(t,e,n){K(t,"beforeDraw",n.clip)},afterDraw(t,e,n){K(t,"afterDraw",n.clip)},beforeEvent(t,e,n){const o=E.get(t);Bn(o,e.event,n)&&(e.changed=!0)},afterDestroy(t){E.delete(t)},getAnnotations(t){const e=E.get(t);return e?e.elements:[]},_getAnnotationElementsAtEventForMode(t,e,n){return Ae(t,e,n)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:t=>!Io.includes(t)&&t!=="init",annotations:{_allKeys:!1,_fallback:(t,e)=>`elements.${T[Te(e.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:xe,_fallback:!0},_indexable:xe}},additionalOptionScopes:[""]};function K(t,e,n){const{ctx:o,chartArea:r}=t,i=E.get(t);n&&Kt(o,r);const s=Ro(i.visibleElements,e).sort((a,l)=>a.element.options.z-l.element.options.z);for(const a of s)Oo(o,r,i,a);n&&Ut(o)}function Ro(t,e){const n=[];for(const o of t)if(o.options.drawTime===e&&n.push({element:o,main:!0}),o.elements&&o.elements.length)for(const r of o.elements)r.options.display&&r.options.drawTime===e&&n.push({element:r});return n}function Oo(t,e,n,o){const r=o.element;o.main?(ze(n,r,"beforeDraw"),r.draw(t,e),ze(n,r,"afterDraw")):r.draw(t,e)}const Lo={STATISTIC:"SE player statistic ",NO_DATA:"No data",LAST_ZVEKS:"Damage in last 3 SEs, B",AVERAGE_ZVEKS:"Your average damage over the last three SEs:",AVERAGE_GUILD:"Guild average damage over the last SE:",DAYS_COMPARE:"Damage comparison by days of the last 3 SEs, B",DAMAGE_ZVEK:"Damage in SE"},Wo={STATISTIC:"ЗВЕК статистика гравця ",NO_DATA:"Немає даних для відображення",LAST_ZVEKS:"Урон останніх 3х ЗВЕК, млpд",AVERAGE_ZVEKS:"Ваш середнiй урон в останніх трьох ЗВЕКах:",AVERAGE_GUILD:"Середній урон в останньому ЗВЕКу по гільдії:",DAYS_COMPARE:"Порівняння урону по дням в останніх трьох ЗВЕКах, млрд",DAMAGE_ZVEK:"Урон в ЗВЕК"},Yo={STATISTIC:"ЗВЭК статистика игрока ",NO_DATA:"Нет данных для отображения",LAST_ZVEKS:"Урон последних 3х ЗВЭК, млpд",AVERAGE_ZVEKS:"Ваш средний урон последних трех звэков:",AVERAGE_GUILD:"Средний урон последнего звэка по гильдии:",DAYS_COMPARE:"Сравнение урона по дням последних 3-х ЗВЕК, млрд",DAMAGE_ZVEK:"Урон в ЗВЭК"},Vo={en:Lo,uk:Wo,ru:Yo},Lt=t=>Vo[t],zo=({title:t,titleId:e,...n},o)=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 32 32",ref:o,"aria-labelledby":e,...n},t?y.createElement("title",{id:e},t):null,y.createElement("path",{d:"M23,24c-3.5991,0-5.0293-4.1758-6.4126-8.2139C15.2764,11.9583,13.92,8,11,8a3.44,3.44,0,0,0-3.0532,2.3215L6.0513,9.6838C6.1016,9.5334,7.3218,6,11,6c4.3491,0,6.0122,4.8547,7.48,9.1379C19.6885,18.6667,20.83,22,23,22a3.44,3.44,0,0,0,3.0532-2.3215l1.8955.6377C27.8984,20.4666,26.6782,24,23,24Z"}),y.createElement("path",{d:"M4,28V17H6V15H4V2H2V28a2,2,0,0,0,2,2H30V28Z"}),y.createElement("rect",{x:8,y:15,width:2,height:2}),y.createElement("rect",{x:12,y:15,width:2,height:2}),y.createElement("rect",{x:20,y:15,width:2,height:2}),y.createElement("rect",{x:24,y:15,width:2,height:2}),y.createElement("rect",{x:28,y:15,width:2,height:2})),Xo=y.forwardRef(zo);F.register(at,lt,on,rn,dt,ct,ut,jo);const tt=({data:t,title:e,averageTitle:n,average:o,stepped:r,withCheckbox:i})=>{const[s,a]=y.useState(!1),{language:l}=ge(nt),{DAMAGE_ZVEK:d}=Lt(l),{DAMAGE:c,BILLION:u}=ot(l),f=y.useMemo(()=>({labels:(t==null?void 0:t.map(h=>h.date))||[],datasets:[{label:d,data:(t==null?void 0:t.map(h=>h.damage/1e9))||[],borderColor:"rgb(72, 99, 235)",backgroundColor:"rgb(68, 217, 38)",fill:!1,stepped:r,tension:.4}]}),[t,r,d]),g=y.useMemo(()=>({responsive:!0,plugins:{datalabels:{display:!1},legend:{position:"top"},title:{display:!0,text:e},annotation:{annotations:s&&o?{line1:{type:"line",yMin:o/1e9,yMax:o/1e9,borderColor:"rgb(235, 72, 99)",borderDash:[10],borderWidth:2}}:{}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:c}}}}),[e,s,o,c]);return b.jsxs(No,{children:[i&&b.jsx(Bo,{children:b.jsx(Ho,{isaverage:+s,onClick:()=>a(h=>!h),children:b.jsx(Xo,{})})}),b.jsx(nn,{data:f,options:g}),b.jsxs(Go,{children:[n," ",b.jsxs("b",{children:[((o||0)/1e9).toFixed(2)," ",u]})]})]})},No=P.div.withConfig({displayName:"LineChart__Wrapper",componentId:"sc-1l1k6y3-0"})(["position:relative;"]),Bo=P.div.withConfig({displayName:"LineChart__CheckboxContainer",componentId:"sc-1l1k6y3-1"})(["display:flex;align-items:center;position:absolute;right:1rem;top:0.5rem;"]),Ho=P(zt).withConfig({displayName:"LineChart__Icon",componentId:"sc-1l1k6y3-2"})(["&.MuiSvgIcon-root{cursor:pointer;fill:",";}"],({isaverage:t,theme:{colors:{blue100:e,gray090:n}}})=>t?e:n),Go=P.div.withConfig({displayName:"LineChart__SubInfo",componentId:"sc-1l1k6y3-3"})(["",";padding-top:0.5rem;text-align:center;"],Vt);F.register(an,at,lt,dt,ct,ut);const $o=({data:t,title:e})=>{const n=y.useMemo(()=>{var r;return{labels:(r=t[0])==null?void 0:r.damageByDay.map((i,s)=>`День ${s+1}`),datasets:t.map(({damageByDay:i,date:s},a)=>({label:s,data:i.map(l=>l/1e9),backgroundColor:`rgba(${50+a*50}, 99, 160, 0.9)`,borderColor:`rgba(${50+a*50}, 99, 160, 1)`,borderWidth:1,borderRadius:4}))}},[t]),o=y.useMemo(()=>({responsive:!0,plugins:{datalabels:{display:!1},legend:{position:"top"},title:{display:!0,text:e},tooltip:{mode:"index",intersect:!1,callbacks:{label:r=>`${r.dataset.label}: ${r.raw.toFixed(2)} млрд`}}},scales:{x:{stacked:!1},y:{beginAtZero:!0}}}),[e]);return b.jsx(sn,{data:n,options:o})},tr=()=>{const{id:t}=Xt(),e=Nt(),{language:n}=ge(nt),{latestZveks:o}=ge(Bt);y.useEffect(()=>{Ht.send({hitType:"details",page:e.pathname})},[]);const r=y.useMemo(()=>{var A;return((A=o.find(({name:I})=>I===t))==null?void 0:A.info)||[]},[t]),i=y.useMemo(()=>r.reduce((A,{damage:I})=>A+I,0)/3||0,[r]),s=y.useMemo(()=>{const{guildTotal:A=0}=r.slice(-1)[0]||{};return A/30},[r]),a=r.map(({damageByDay:A,date:I})=>({damageByDay:A,date:I})),{STATISTIC:l,NO_DATA:d,LAST_ZVEKS:c,AVERAGE_ZVEKS:u,AVERAGE_GUILD:f,DAYS_COMPARE:g}=Lt(n),{LATEST_ZVEK:h,TUE:w,WED:x,THU:m,FRI:p,SAT:S,SUN:M}=ot(n),Y=y.useMemo(()=>[w,x,m,p,S,M],[p,S,M,m,w,x]),_e=y.useMemo(()=>{const{damageByDay:A=[],date:I}=r.slice(-1)[0]||{};return A.map((Wt,Yt)=>({damage:Wt,date:Y[Yt]||I}))},[r,Y]);return b.jsxs(Zo,{children:[b.jsxs(Ko,{children:[b.jsx(Zt,{to:"/main"}),b.jsxs(Uo,{children:[l,b.jsxs("b",{children:["“",t,"”"]})]})]}),!r||_e.length===0?b.jsx("div",{children:d}):b.jsxs(b.Fragment,{children:[b.jsxs(Fo,{children:[b.jsx(tt,{data:r,title:c,average:i||0,averageTitle:u,stepped:!0,withCheckbox:!1}),b.jsx(tt,{data:_e,title:h,average:s,averageTitle:f,stepped:!1,withCheckbox:!0})]}),b.jsx(Jo,{children:b.jsx($o,{data:a,title:g})})]})]})},Zo=P.div.withConfig({displayName:"DetailsView__Wrapper",componentId:"sc-wfxcys-0"})(["height:100%;padding:1rem 1rem 1.5rem;"]),Ko=P.span.withConfig({displayName:"DetailsView__Header",componentId:"sc-wfxcys-1"})(["display:flex;align-items:center;"]),Uo=P.span.withConfig({displayName:"DetailsView__NickName",componentId:"sc-wfxcys-2"})(["",";margin-left:1rem;@media ","{",";}"],Gt,({theme:t})=>t.breakpoints.maxLtg,$t),Fo=P.div.withConfig({displayName:"DetailsView__Charts",componentId:"sc-wfxcys-3"})(["display:grid;grid-template-columns:calc(50% - 0.5rem) calc(50% - 0.5rem);grid-template-rows:20rem;grid-column-gap:1rem;padding:0 4rem;@media ","{grid-template-columns:100%;grid-template-rows:inherit;padding:0;}"],({theme:t})=>t.breakpoints.maxLtg),Jo=P.div.withConfig({displayName:"DetailsView__BarChartContainer",componentId:"sc-wfxcys-4"})(["margin-top:1rem;height:calc(100vh - 24.5rem);display:flex;justify-content:center;overflow:hidden;@media ","{height:fit-content;}"],({theme:t})=>t.breakpoints.maxLtg);export{tr as default};
